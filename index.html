<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="index.css" />
    <title>Tugas Form</title>
  </head>
  <body>
    <div class="content">
      <div class="sub-content">
        <form id="form-survey">
          <div class="title-survey">Welcome to our survey!</div>
          <div class="name">
            <div class="names">
              <label for="name">Siapa nama anda?</label>
            </div>
            <div class="input-name">
              <input type="text" id="name" />
            </div>
          </div>
          <div class="age">
            <div class="ages">
              <label for="age">Berapa umur anda?</label>
            </div>
            <div class="input-age">
              <input type="number" id="age" />
            </div>
          </div>
          <div class="gender">
            <div class="gender-name">
              <label for="gender">Apa jenis kelamin anda</label>
            </div>
            <div class="input-gender">
              <input
                type="radio"
                name="gender"
                id="gender1"
                value="Laki-laki"
              />
              Laki-laki
              <input
                type="radio"
                name="gender"
                id="gender2"
                value="Perempuan"
              />
              Perempuan
            </div>
          </div>
          <div class="filer">
            <div class="filter-name">
              <label for="filter">Apakah anda perokok?</label>
            </div>
            <div class="input-filter">
              <input type="radio" name="filter" id="filter1" value="Ya" /> Ya
              <input type="radio" name="filter" id="filter2" value="Tidak" />
              Tidak
            </div>
          </div>
          <div class="perokok">
            <div class="perokok-name">
              <label for="perokok"
                >Jika anda perokok, rokok apa yang anda pernah coba?</label
              >
            </div>
            <div class="input-perokok">
              <div class="cekbox">
                <input
                  type="checkbox"
                  name="cek"
                  id="cek1"
                  value="Gudang Garam Filter"
                />Gudang Garam Filter
              </div>
              <div class="cekbox">
                <input
                  type="checkbox"
                  name="cek"
                  id="cek2"
                  value="Lucky Strike"
                />Lucky Strike
              </div>
              <div class="cekbox">
                <input
                  type="checkbox"
                  name="cek"
                  id="cek3"
                  value="Marlboro"
                />Marlboro
              </div>
              <div class="cekbox">
                <input type="checkbox" name="cek" id="cek4" value="Esse" />Esse
              </div>
            </div>
          </div>
          <div class="button">
            <button type="submit" id="button-survey">Save</button>
          </div>
        </form>
        <table id="tables">
          <thead id="table-head">
            <th>Name</th>
            <th>Age</th>
            <th>Gender</th>
            <th>Is respondent smoker?</th>
            <th>Cigar variant that respondent have try</th>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
      </div>
    </div>
    <script>
      const myButton = document.getElementById("button-survey");
      const myForm = document.getElementById("form-survey");
      const tbody = document.getElementById("tbody");
      myButton.addEventListener("click", inputData);
      function inputData(save) {
        save.preventDefault();

        const dataName = document.createElement("td");
        const row = document.createElement("tr");
        const names = document.getElementById("name");
        const nameValue = names.value;
        dataName.textContent = nameValue;

        const dataAge = document.createElement("td");
        const ages = document.getElementById("age");
        const ageValue = ages.value;
        dataAge.textContent = ageValue;

        const genders = document.getElementsByName("gender");
        const dataGander = document.createElement("td");
        let valueGander = "";

        for (let i = 0; i < genders.length; i++) {
          if (genders[i].checked) {
            valueGander += genders[i].value;
          }
        }
        dataGander.textContent = valueGander;

        const filter = document.getElementsByName("filter");
        const dataFilter = document.createElement("td");
        let valueFilter = "";

        for (let i = 0; i < filter.length; i++) {
          if (filter[i].checked) {
            valueFilter += filter[i].value;
          }
        }
        dataFilter.textContent = valueFilter;

        const cek = document.getElementsByName("cek");
        const dataCek = document.createElement("td");
        let valueCek = "";

        for (let i = 0; i < cek.length; i++) {
          if (cek[i].checked) {
            valueCek += cek[i].value + "; ";
          }
        }
        dataCek.textContent = valueCek;

        tbody.appendChild(row);

        if (nameValue !== "") {
          if (ageValue !== "") {
            if (valueGander !== "") {
              if (valueFilter !== "") {
                if (valueCek !== "") {
                  row.appendChild(dataName);
                  row.appendChild(dataAge);
                  row.appendChild(dataGander);
                  row.appendChild(dataFilter);
                  row.appendChild(dataCek);
                } else {
                  window.alert("you must fill the choice");
                }
              } else {
                window.alert("Please insert your filter!");
              }
            } else {
              window.alert("Please insert your gender!");
            }
          } else {
            window.alert("Please insert your age!");
          }
        } else {
          window.alert("Please insert your name!");
        }
        myForm.reset();
      }
    </script>
  </body>
</html>
